/*
 * This Kotlin source file was generated by the Gradle 'init' task.
 */
package sample

tailrec fun calculateScore(input: String): Int {
    if (input == "") return 0

    var score = 0
    var toBeDropped = 0

    if (input[0] == 'X') {
        score += 10 + (if (input[2] != '-') input[2].digitToInt() else 0) + (if (input[3] != '-') input[3].digitToInt() else 0)
        toBeDropped = 2
    } else {
        if (input[0] != '-') score += input[0].digitToInt()
        if (input[1] != '-') score += input[1].digitToInt()
        toBeDropped = 3
    }

    val nextScores = input.drop(toBeDropped).dropWhile { it == '|' }

    return score + calculateScore(nextScores)
}
