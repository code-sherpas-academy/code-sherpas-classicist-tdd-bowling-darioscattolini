/*
 * This Kotlin source file was generated by the Gradle 'init' task.
 */
package sample

fun calculateScore(input: String): Int {
    val frames = input.replace('-', '0').split("||", "|").dropLast(1)

    return calculateFramesScore(frames)
}

internal tailrec fun calculateFramesScore(frames: List<String>): Int {
    if (frames.isEmpty()) return 0

    val currentFrame = frames.first()
    val nextFrames = frames.drop(1)

    var score = 0

    if (currentFrame == "X") {
        score += 10

        if (nextFrames[0] == "X") {
            score += 10
            score += nextFrames[1][0].digitToInt()
        } else {
            score += nextFrames[0][0].digitToInt()
            score += nextFrames[0][1].digitToInt()
        }
    } else {
        score += currentFrame[0].digitToInt()
        score += currentFrame[1].digitToInt()
    }

    return score + calculateFramesScore(nextFrames)
}
